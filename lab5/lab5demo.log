--------------------------------------------------------------------------------
      name:  <unnamed>
       log:  C:\Users\cla-spa206.CAMPUS-DOMAIN\Downloads\lab5\lab5demo.log
  log type:  text
 opened on:  12 Mar 2013, 11:33:49

. use "wage1lab.dta";

. regress wage educ exper tenure nonwhite female married smsa northcen south wes
> t construc ndurman trcommpu trade services profserv profocc clerocc servocc pr
> ofocc;
note: profocc omitted because of collinearity

      Source |       SS       df       MS              Number of obs =     526
-------------+------------------------------           F( 19,   506) =   23.35
       Model |   3345.3859    19  176.072942           Prob > F      =  0.0000
    Residual |  3815.02839   506   7.5395818           R-squared     =  0.4672
-------------+------------------------------           Adj R-squared =  0.4472
       Total |  7160.41429   525  13.6388844           Root MSE      =  2.7458

------------------------------------------------------------------------------
        wage |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
        educ |   .3497354   .0566485     6.17   0.000     .2384402    .4610305
       exper |    .011238     .01146     0.98   0.327     -.011277    .0337531
      tenure |   .1163978   .0201622     5.77   0.000     .0767858    .1560098
    nonwhite |  -.0039684   .4046669    -0.01   0.992    -.7990026    .7910659
      female |  -1.558657   .2789475    -5.59   0.000    -2.106696   -1.010619
     married |   .5083135   .2728575     1.86   0.063    -.0277597    1.044387
        smsa |   .7128412   .2882646     2.47   0.014     .1464983    1.279184
    northcen |  -.5873781   .3498681    -1.68   0.094    -1.274751    .0999949
       south |  -.3026193   .3351736    -0.90   0.367    -.9611225    .3558839
        west |   .5412862    .389054     1.39   0.165    -.2230739    1.305646
    construc |  -.6520187   .6479214    -1.01   0.315    -1.924966    .6209287
     ndurman |  -.9388715   .4808916    -1.95   0.051    -1.883662    .0059186
    trcommpu |  -1.264927   .6708134    -1.89   0.060     -2.58285    .0529953
       trade |  -2.158672   .4046303    -5.33   0.000    -2.953635    -1.36371
    services |   -1.89585   .5115106    -3.71   0.000    -2.900796   -.8909038
    profserv |  -1.028218   .4426455    -2.32   0.021    -1.897868    -.158569
     profocc |   1.941968    .364554     5.33   0.000     1.225742    2.658194
     clerocc |     .30504   .4300678     0.71   0.478    -.5398985    1.149978
     servocc |  -.1781189   .4280829    -0.42   0.678    -1.019158    .6629199
     profocc |  (omitted)
       _cons |   1.333599   .8327334     1.60   0.110    -.3024419     2.96964
------------------------------------------------------------------------------

. vif;

    Variable |       VIF       1/VIF  
-------------+----------------------
    profserv |      2.62    0.381608
       trade |      2.34    0.427768
     profocc |      2.15    0.464310
     clerocc |      1.80    0.556291
       south |      1.80    0.556868
        educ |      1.71    0.583658
       exper |      1.68    0.593637
    services |      1.65    0.604626
     ndurman |      1.63    0.613340
    northcen |      1.61    0.622951
     servocc |      1.55    0.647004
        west |      1.48    0.673661
      tenure |      1.48    0.676861
      female |      1.35    0.738137
    trcommpu |      1.31    0.761787
    construc |      1.28    0.784103
     married |      1.24    0.808061
        smsa |      1.16    0.860229
    nonwhite |      1.05    0.950171
-------------+----------------------
    Mean VIF |      1.63

. corr wage educ exper tenure nonwhite female married smsa northcen south west c
> onstruc ndurman trcommpu trade services profserv profocc clerocc servocc profo
> cc;
(obs=526)

             |     wage     educ    exper   tenure nonwhite   female  married
-------------+---------------------------------------------------------------
        wage |   1.0000
        educ |   0.4059   1.0000
       exper |   0.1129  -0.2995   1.0000
      tenure |   0.3469  -0.0562   0.4993   1.0000
    nonwhite |  -0.0385  -0.0847   0.0144   0.0116   1.0000
      female |  -0.3401  -0.0850  -0.0416  -0.1979  -0.0109   1.0000
     married |   0.2288   0.0689   0.3170   0.2399  -0.0623  -0.1661   1.0000
        smsa |   0.1779   0.2243  -0.1173   0.0007  -0.0141   0.0165  -0.0972
    northcen |  -0.0291   0.0614   0.0106   0.0141  -0.0802   0.0155  -0.0117
       south |  -0.1025  -0.1166   0.0503  -0.0251   0.1021  -0.0444   0.0751
        west |   0.0877   0.0163  -0.0174  -0.0213  -0.0023   0.0544  -0.0223
    construc |   0.0040  -0.0774  -0.0728  -0.0259   0.0461  -0.0820   0.0075
     ndurman |   0.0737  -0.0125   0.1014   0.1605   0.0363  -0.0927   0.0796
    trcommpu |   0.0559   0.1077  -0.0483   0.0639  -0.0723  -0.0190   0.0382
       trade |  -0.1898  -0.0592  -0.1046  -0.1262  -0.0485  -0.0534  -0.1366
    services |  -0.1416  -0.0727   0.0415  -0.0626   0.0949   0.1088  -0.0549
    profserv |   0.0852   0.2142  -0.0206  -0.0597  -0.0567   0.2159   0.0646
     profocc |   0.4418   0.4968  -0.0056   0.0906  -0.0886  -0.1774   0.0855
     clerocc |  -0.1408  -0.0083  -0.0404  -0.0728  -0.0341   0.3552   0.0257
     servocc |  -0.2531  -0.1633  -0.0711  -0.1127  -0.0288   0.1592  -0.1570
     profocc |   0.4418   0.4968  -0.0056   0.0906  -0.0886  -0.1774   0.0855

             |     smsa northcen    south     west construc  ndurman trcommpu
-------------+---------------------------------------------------------------
        smsa |   1.0000
    northcen |   0.0552   1.0000
       south |  -0.2314  -0.4299   1.0000
        west |   0.0986  -0.2612  -0.3352   1.0000
    construc |  -0.0069  -0.0215   0.0279  -0.0015   1.0000
     ndurman |  -0.0981  -0.0008   0.1208  -0.0981  -0.0785   1.0000
    trcommpu |   0.0080  -0.0594   0.0160   0.0523  -0.0468  -0.0767   1.0000
       trade |   0.0179   0.0204   0.0291  -0.0398  -0.1387  -0.2277  -0.1357
    services |   0.0100  -0.0626   0.0021   0.0679  -0.0732  -0.1201  -0.0716
    profserv |   0.0460   0.0688  -0.0848  -0.0349  -0.1291  -0.2119  -0.1263
     profocc |   0.1460   0.0688  -0.1039  -0.0069  -0.0908  -0.0002  -0.0085
     clerocc |   0.1072  -0.0245   0.0289   0.0015   0.0240  -0.1288   0.0785
     servocc |  -0.0300   0.0433  -0.0264  -0.0222  -0.0885  -0.1108  -0.0598
     profocc |   0.1460   0.0688  -0.1039  -0.0069  -0.0908  -0.0002  -0.0085

             |    trade services profserv  profocc  clerocc  servocc  profocc
-------------+---------------------------------------------------------------
       trade |   1.0000
    services |  -0.2124   1.0000
    profserv |  -0.3747  -0.1977   1.0000
     profocc |   0.0575  -0.1238   0.1631   1.0000
     clerocc |  -0.0367  -0.0316   0.1890  -0.3412   1.0000
     servocc |   0.0333   0.1734   0.0982  -0.3080  -0.1814   1.0000
     profocc |   0.0575  -0.1238   0.1631   1.0000  -0.3412  -0.3080   1.0000


. //manually test for homo heteroskadasticity
> predict res, r;

. gen res2 = res^2;

. //regress residuals-squared on the dependent variables
> regress res2 educ exper tenure nonwhite female married smsa northcen south wes
> t construc ndurman trcommpu trade services profserv profocc clerocc servocc pr
> ofocc;
note: profocc omitted because of collinearity

      Source |       SS       df       MS              Number of obs =     526
-------------+------------------------------           F( 19,   506) =    3.47
       Model |  22507.1467    19  1184.58667           Prob > F      =  0.0000
    Residual |  172877.829   506  341.655789           R-squared     =  0.1152
-------------+------------------------------           Adj R-squared =  0.0820
       Total |  195384.976   525  372.161859           Root MSE      =  18.484

------------------------------------------------------------------------------
        res2 |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
        educ |   .7032512   .3813371     1.84   0.066    -.0459477     1.45245
       exper |   .0060322   .0771446     0.08   0.938    -.1455309    .1575953
      tenure |   .4852106   .1357248     3.57   0.000      .218557    .7518642
    nonwhite |  -.7943814   2.724071    -0.29   0.771    -6.146264    4.557501
      female |  -2.346038   1.877774    -1.25   0.212    -6.035231    1.343156
     married |  -.5415364   1.836778    -0.29   0.768    -4.150187    3.067114
        smsa |  -1.583123   1.940493    -0.82   0.415    -5.395538    2.229293
    northcen |  -3.175051   2.355185    -1.35   0.178    -7.802197    1.452095
       south |  -1.288226   2.256267    -0.57   0.568    -5.721031    3.144579
        west |   .0078195   2.618971     0.00   0.998    -5.137577    5.153216
    construc |   .4841147   4.361573     0.11   0.912    -8.084907    9.053136
     ndurman |  -5.095116   3.237188    -1.57   0.116     -11.4551    1.264869
    trcommpu |  -10.05944   4.515673    -2.23   0.026    -18.93122   -1.187662
       trade |  -3.077474   2.723825    -1.13   0.259    -8.428874    2.273925
    services |  -2.557675   3.443304    -0.74   0.458    -9.322609    4.207258
    profserv |  -3.078135   2.979729    -1.03   0.302    -8.932299     2.77603
     profocc |   8.203289   2.454046     3.34   0.001     3.381916    13.02466
     clerocc |   2.618968   2.895061     0.90   0.366    -3.068852    8.306788
     servocc |   .7086459   2.881699     0.25   0.806    -4.952923    6.370215
     profocc |  (omitted)
       _cons |   -.840992    5.60566    -0.15   0.881    -11.85423    10.17224
------------------------------------------------------------------------------

. //save some scalars from the regression
> sca chisquared = e(r2)*e(N);

. //recall 'scalar list'
> scalar list;
    pvalue =  3.118e-06
chisquared =  60.591963

. //manually calculate p-value 
> sca pvalue = chi2tail(e(df_m),chisquared);

. //we reject the null hypothesis, so we have heteroskedasticity
> sca list;
    pvalue =  3.118e-06
chisquared =  60.591963

. disp "Breusch-Pagan test: Chi-Squared = " chisquared ", p-value = " pvalue ";
> sca list;
> 
> //automatic test - indicates heteroskadasticity
> regress wage educ exper tenure nonwhite female married smsa northcen south wes
> t construc ndurman trcommpu trade services profserv profocc clerocc servocc pr
> ofocc;
> estat hettest;
> 
> //also less common is the white test - does note indeicate heteroskdasticity
> regress wage educ exper tenure nonwhite female married smsa northcen south wes
> t construc ndurman trcommpu trade services profserv profocc clerocc servocc pr
> ofocc;
> imtest, white;
> 
> //go with hetero..city - run regress with r variable at the end
> regress wage educ exper tenure nonwhite female married smsa northcen south wes
> t construc ndurman trcommpu trade services profserv profocc clerocc servocc pr
> ofocc,r;
> 
> //the following is a post regression command that shows stats that are not aut
> omatically reported (including adj_R^2)
> ereturn list;
> 
> //or e(r2_a) to show it explicitly
> display e(r2_a);
> 
> 
> 

end of do-file

. do "C:\Users\CLA-SP~1.CAM\AppData\Local\Temp\STD00000000.tmp"

. /*      A. Shawn Bandy
>         Lab #5
>         March 12, 2013
> */
. 
. cd "C:\Users\cla-spa206.CAMPUS-DOMAIN\Downloads\lab5";
invalid syntax
r(198);

end of do-file

r(198);

. do "C:\Users\CLA-SP~1.CAM\AppData\Local\Temp\STD00000000.tmp"

. /*      A. Shawn Bandy
>         Lab #5
>         March 12, 2013
> */
. 
. cap log close
