------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  /Users/shawn/src/econ485/lab5/mlb2.log
  log type:  text
 opened on:  18 Mar 2013, 13:05:33

. use "mlb1.dta";

. /*a. Run a regression where the dependent variable is salary and the explanatory v
> ariables are teamsal 
> pcinc yrsallst years hits runsyr. In other words, the total team salary, the avera
> ge income of the city 
> where the team is located, the number of years on the All-Star team, the number of
>  year the player has 
> been in the League, the number of all-time hits (over all years), and runs per yea
> r.*/
> 
> regress salary teamsal pcinc yrsallst years hits runsyr;

      Source |       SS       df       MS              Number of obs =     353
-------------+------------------------------           F(  6,   346) =   72.94
       Model |  3.8936e+14     6  6.4894e+13           Prob > F      =  0.0000
    Residual |  3.0782e+14   346  8.8966e+11           R-squared     =  0.5585
-------------+------------------------------           Adj R-squared =  0.5508
       Total |  6.9718e+14   352  1.9806e+12           Root MSE      =  9.4e+05

------------------------------------------------------------------------------
      salary |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
     teamsal |   .0143053    .006004     2.38   0.018     .0024964    .0261142
       pcinc |  -3.081507    17.9635    -0.17   0.864    -38.41291    32.24989
    yrsallst |   196930.8   40981.67     4.81   0.000     116326.2    277535.3
       years |   53884.84   33490.08     1.61   0.109    -11984.91    119754.6
        hits |  -365.6974   335.6952    -1.09   0.277    -1025.957    294.5627
      runsyr |   32917.18    3553.05     9.26   0.000     25928.88    39905.47
       _cons |  -609625.3   374222.5    -1.63   0.104     -1345662    126411.9
------------------------------------------------------------------------------

. /*b. Look at the simple correlation between the variables in your model, using cor
> relate.*/
> 
> correlate salary teamsal pcinc yrsallst years hits runsyr;
(obs=353)

             |   salary  teamsal    pcinc yrsallst    years     hits   runsyr
-------------+---------------------------------------------------------------
      salary |   1.0000
     teamsal |   0.2247   1.0000
       pcinc |   0.0874   0.1891   1.0000
    yrsallst |   0.5856   0.1082   0.0877   1.0000
       years |   0.4782   0.1774   0.0843   0.5751   1.0000
        hits |   0.6271   0.1721   0.1044   0.7678   0.8824   1.0000
      runsyr |   0.7033   0.1887   0.0979   0.5677   0.5018   0.7328   1.0000


. /*c. Test for multicollinearity by using the vif command.*/
> 
> vif;

    Variable |       VIF       1/VIF  
-------------+----------------------
        hits |     14.76    0.067746
       years |      6.68    0.149676
      runsyr |      2.84    0.351592
    yrsallst |      2.84    0.352695
     teamsal |      1.09    0.921569
       pcinc |      1.04    0.958082
-------------+----------------------
    Mean VIF |      4.88

. /*d. Look at your regression results, the test for multicollinearity, and the test
>  for correlation.
>  Is there a problem with multicollinearity in the model? Look at the variables in 
> the model. If you believe 
>  there is a problem with multicollinearity, explain why you might have that proble
> m.
>  
>  INTERPRETATION
>  
>  */
> 
> 
>  
> /*e. Now, use the regression command to estimate a linear regression model where t
> he dependent variable is salary
>  and the explanatory variables are teamsal pcinc allstar slugavg fldperc frstbase 
> scndbase shrtstop thrdbase
>  outfield. In this new model, the explanatory variables are team salary, per capit
> a income of the city where 
>  the team is located, percentage of years as an All-Star, career slugging average,
>  career fielding percentage,
>  and dummy variables for the various positions on the team, with catcher excluded.
> */
>  
>  regress salary teamsal pcinc allstar slugavg fldperc frstbase scndbase shrtstop t
> hrdbase
>  outfield;

      Source |       SS       df       MS              Number of obs =     353
-------------+------------------------------           F( 10,   342) =   32.41
       Model |  3.3921e+14    10  3.3921e+13           Prob > F      =  0.0000
    Residual |  3.5797e+14   342  1.0467e+12           R-squared     =  0.4865
-------------+------------------------------           Adj R-squared =  0.4715
       Total |  6.9718e+14   352  1.9806e+12           Root MSE      =  1.0e+06

------------------------------------------------------------------------------
      salary |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
     teamsal |   .0247805   .0064344     3.85   0.000     .0121244    .0374365
       pcinc |   .2530229   19.56027     0.01   0.990    -38.22055     38.7266
     allstar |   47920.33   3013.114    15.90   0.000     41993.77     53846.9
     slugavg |   2060.333   2853.358     0.72   0.471    -3552.007    7672.673
     fldperc |   5877.833    3111.61     1.89   0.060    -242.4695    11998.13
    frstbase |   320346.8   210323.1     1.52   0.129    -93342.88    734036.5
    scndbase |   134556.9   224728.1     0.60   0.550    -307466.3    576580.1
    shrtstop |   87293.44   213623.5     0.41   0.683    -332887.8    507474.7
    thrdbase |   382886.7   244737.8     1.56   0.119    -98494.21    864267.6
    outfield |   485142.8   170914.1     2.84   0.005     148967.7    821317.9
       _cons |   -5977180    3125933    -1.91   0.057    -1.21e+07    171294.5
------------------------------------------------------------------------------

.  /*f. Test for multicollinearity again for the model in part e.*/
> 
> vif;

    Variable |       VIF       1/VIF  
-------------+----------------------
    outfield |      2.33    0.428590
    shrtstop |      1.84    0.543536
    thrdbase |      1.76    0.568754
    frstbase |      1.66    0.602641
    scndbase |      1.60    0.625738
     fldperc |      1.27    0.788590
     teamsal |      1.06    0.944026
     slugavg |      1.06    0.945291
     allstar |      1.05    0.948811
       pcinc |      1.05    0.950678
-------------+----------------------
    Mean VIF |      1.47

. corr salary teamsal pcinc allstar slugavg fldperc frstbase scndbase shrtstop thrdb
> ase outfield;
(obs=353)

             |   salary  teamsal    pcinc  allstar  slugavg  fldperc frstbase
-------------+---------------------------------------------------------------
      salary |   1.0000
     teamsal |   0.2247   1.0000
       pcinc |   0.0874   0.1891   1.0000
     allstar |   0.6638   0.1186   0.0993   1.0000
     slugavg |   0.1436   0.0890  -0.0151   0.1504   1.0000
     fldperc |   0.0714  -0.0414  -0.0183   0.0112  -0.0311   1.0000
    frstbase |   0.0656   0.0499   0.0678   0.0469   0.0768   0.2177   1.0000
    scndbase |  -0.0088   0.0099   0.0005   0.0408   0.0924  -0.0084  -0.1308
    shrtstop |  -0.0790   0.0061   0.0262  -0.0056  -0.0997  -0.1863  -0.1535
    thrdbase |   0.0086   0.0117  -0.0252   0.0178   0.0029  -0.3144  -0.1248
    outfield |   0.1091  -0.0492  -0.0401   0.0092   0.0115   0.0126  -0.3026

             | scndbase shrtstop thrdbase outfield
-------------+------------------------------------
    scndbase |   1.0000
    shrtstop |  -0.1374   1.0000
    thrdbase |  -0.1117  -0.1311   1.0000
    outfield |  -0.2709  -0.3178  -0.2585   1.0000


. /*g. Is multicollinearity a problem for the model in part e. Why do you think this
>  result is different from before?
> 
> INTERPRETATION
> 
> */
> 
> 
> /*h. Now, predict the residuals for each observation in the model from part e.*/
> 
> predict res, r;
res already defined
r(110);

end of do-file

r(110);

. edit

. clear

. do "/Users/shawn/src/econ485/lab5/mlb1.do"

. /*      A. Shawn Bandy
>         Lab #5
>         March 12, 2013
> */
. 
. cap log close
